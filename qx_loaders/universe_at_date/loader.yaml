loader:
  id: universe_at_date_loader
  version: 1.0.0
  description: "Select symbols that were in universe on a specific date"

# Curated datasets required (resolved via DatasetType contracts)
inputs:
  - name: membership_data
    required: true
    type:
      domain: instrument-reference
      subdomain: index-constituents
    description: "Membership interval data"

# Configuration parameters (not datasets)
parameters:
  date:
    type: str
    required: true
    description: "Query date (YYYY-MM-DD)"
    example: "2024-12-31"

  universe:
    type: str
    default: "sp500"
    description: "Universe identifier"
    allowed: ["sp500", "russell1000", "nasdaq100"]

# Optional: Declare dependencies on other task outputs (not curated datasets)
# runtime_dependencies:
#   - task_id: "SomeOtherTask"
#     description: "Optional: describe why this dependency exists"

# Output specification (with validation rules)
output:
  type: list
  item_type: str
  description: "List of ticker symbols in the universe on the specified date"
  example: ["AAPL", "MSFT", "GOOGL", ...]

  # Validation rules
  validation:
    allow_empty: true  # Date might be outside available data range
    max_length: 5000
    item_pattern: "^[A-Z0-9.\\-]+$"
