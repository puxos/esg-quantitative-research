model:
  id: capm_model
  version: 1.0.0
  featureset_id: ohlcv_v1+rf_v1
  description: "CAPM expected return using daily OHLCV and daily risk-free"

inputs:
  - name: equity_prices
    required: true
    type:
      domain: market-data
      asset_class: equity
      subdomain: bars
      subtype: null
      region: null
      frequency: null # Accept any frequency (will be resampled to target frequency)
    description: "OHLCV price data (will be resampled to monthly if needed)"
  - name: risk_free
    required: true
    type:
      domain: reference-rates
      asset_class: fixed-income
      subdomain: yield-curves
      subtype: null
      region: null
      frequency: null # Accept any frequency (will be resampled to target frequency)
    description: "Risk-free rates (will be resampled to monthly if needed for excess returns)"

output:
  type:
    domain: derived-metrics
    asset_class: equity
    subdomain: expected-returns
    subtype: capm
    region: null
    frequency: monthly

parameters:
  horizon_d:
    type: int
    default: 252
    min: 1
    max: 2520
  beta_method:
    type: enum
    default: "simple"
    allowed: ["simple", "rolling_ols", "exponential"]
