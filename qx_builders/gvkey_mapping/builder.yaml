builder:
  id: gvkey_mapping
  version: 1.0.0
  description: "GVKEY-ticker mapping builder - creates mapping from GVKEY identifiers to ticker symbols"

io:
  output:
    type:
      domain: instrument-reference
      asset_class: null
      subdomain: identifiers
      frequency: null

parameters:
  exchange:
    type: string
    default: "US"
    description: "Exchange identifier (e.g., US, HK, GLOBAL)"

  crsp_file:
    type: string
    default: "./raw/data_mapping.xlsx"
    description: "Path to CRSP/mapping data file (relative to package)"

  write_mode:
    type: enum
    default: "overwrite"
    allowed: ["append", "overwrite"]
    description: "Write mode - overwrite deletes existing files, append keeps them"

partitions:
  required:
    - exchange

  defaults:
    exchange: US

examples:
  - description: "Build GVKEY mapping for US exchange"
    partitions:
      exchange: US
    overrides:
      crsp_file: "./raw/data_mapping.xlsx"

  - description: "Build GVKEY mapping for Hong Kong exchange"
    partitions:
      exchange: HK
    overrides:
      crsp_file: "./raw/data_mapping.xlsx"
