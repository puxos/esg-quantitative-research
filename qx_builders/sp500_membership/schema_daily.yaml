# S&P 500 Daily Membership Schema
# Point-in-time membership tracking (date, ticker pairs)

dataset:
  domain: membership
  asset_class: null
  subdomain: daily
  region: null
  frequency: null

contract:
  schema_version: schema_v1

  columns:
    - name: date
      type: date
      description: Observation date
      required: true
      filterable: true
      filter_type: range

    - name: ticker
      type: string
      description: Stock ticker symbol
      required: true
      filterable: true
      filter_type: in

  partition_keys:
    - universe
    - mode

  filters:
    date_range:
      columns: [date]
      type: range
      description: Filter by date range (start, end)
      example: ["2014-01-01", "2024-12-31"]

    ticker_list:
      columns: [ticker]
      type: in
      description: Filter to specific tickers
      example: ["AAPL", "MSFT", "GOOGL"]

  path_template: data/curated/membership/universe={universe}/mode={mode}

parameters: {}

metadata:
  source: raw/S&P 500 Historical Components & Changes(11-16-2025).csv
  description: |
    Daily representation of S&P 500 membership.
    One row per (date, ticker) combination.

  dependencies: []

  notes: |
    Used for:
      - Point-in-time coverage analysis
      - Daily membership checks
      - Backtest universe construction

    Typical usage:
      - universe=sp500
      - mode=daily

    Alternative representation: See sp500_membership_intervals.yaml
